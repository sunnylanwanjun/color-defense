{"version":3,"sources":["../../../../../assets/scripts/component/assets/scripts/component/Start.js"],"names":["cc","Class","extends","Component","properties","progress","default","undefined","type","Label","onLoad","require","constVal","resName","ResName","entityState","EntityState","handleColor","HandleColor","globalEvent","EventTarget","MyTimer","timer","Utils","utils","ResMgr","resMgr","init","ResConfig","CommonRes","ScenePreloadRes","loadCommon","err","log","initGameData","bind","loadedResName","loadedNum","totalNum","string","update","dt","gameConfig","getRes","adConfig","UserData","userData","initGame","PassData","passData","GameDataClass","ConfigData","configData","EditData","editData","GameCtrl","gameCtrl","EntityMgr","entityMgr","SkinMgr","skinMgr","loadScene"],"mappings":"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","file":"Start.js","sourceRoot":"../../../../../assets/scripts/component","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        progress:{\n            default:undefined,\n            type:cc.Label,\n        }\n    },\n\n    // use this for initialization\n    onLoad: function () {\n        \n        require(\"StringEx\");\n\n        cc.constVal = require(\"ConstVal\");\n        cc.resName = cc.constVal.ResName;\n        cc.entityState = cc.constVal.EntityState;\n        cc.handleColor = cc.constVal.HandleColor;\n\n        cc.globalEvent = new cc.EventTarget();\n        \n        var MyTimer = require(\"MyTimer\");\n        cc.timer = new MyTimer();\n\n        var Utils = require(\"Utils\");\n        cc.utils = new Utils();\n\n        var ResMgr = require(\"ResMgr\");\n        cc.resMgr = new ResMgr();\n        cc.resMgr.init(cc.constVal.ResName,\n            cc.constVal.ResConfig,\n            cc.constVal.CommonRes,\n            cc.constVal.ScenePreloadRes);\n\n        cc.resMgr.loadCommon(function(err){\n            if(err){\n                return;\n            }\n            cc.log(\"load common finished\");\n            this.initGameData();\n        }.bind(this),function(err,loadedResName,loadedNum,totalNum){\n            if(err){\n                return;\n            }\n            cc.log(\"loadProgress\",loadedResName,loadedNum,totalNum);\n            this.progress.string = \"loading(\"+loadedNum+\"/\"+totalNum+\")\";\n        }.bind(this));\n    },\n\n    // called every frame\n    update: function (dt) {\n\n    },\n\n    initGameData: function(){\n        cc.gameConfig = cc.resMgr.getRes(cc.resName.gameConfig);\n        cc.adConfig = cc.resMgr.getRes(cc.resName.adConfig);\n\n        var UserData = require(\"UserData\");\n        cc.userData = new UserData();\n        cc.userData.init(function(){\n            this.initGame();\n        }.bind(this));\n    },\n\n    initGame: function(){\n        var PassData = require(\"PassData\");\n        cc.passData = new PassData();\n        var GameDataClass = require(\"ColorData\");\n        cc.passData.init(GameDataClass);\n\n        var ConfigData = require(\"ConfigData\");\n        cc.configData = new ConfigData();\n\n        var EditData = require(\"EditData\");\n        cc.editData = new EditData();\n\n        var GameCtrl = require(\"GameCtrl\");\n        cc.gameCtrl = new GameCtrl();\n\n        var EntityMgr = require(\"EntityMgr\");\n        cc.entityMgr = new EntityMgr();\n\n        var SkinMgr = require(\"SkinMgr\");\n        cc.skinMgr = new SkinMgr();\n\n        cc.utils.loadScene(\"main\");\n    }\n});\n"]}