{"version":3,"sources":["../../../../../../assets/scripts/node/entity/assets/scripts/node/entity/EntityBorn.js"],"names":["cc","Class","extends","require","ctor","PoolMgr","poolMgr","setBuildFunc","skinType","skinInfo","skinNode","skinMgr","getSkin","setCompleteCallback","push","bind","parent","setResetFunc","active","initGameData","_super","updateProperty","property","resetAll","key","rowValue","bornSkinArr","get","name","updateInfo","initEntity","idx","bornIdx","myType","myIdx","myProperty","myPropertyArr","split","unInitEntity","keyHandle","keyCode","KEY","Delete","editData","deleteBorn"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAAQC,QAAQ,YAAR,CADH;AAELC,QAFK,kBAEC;AACF,YAAIC,UAAUF,QAAQ,SAAR,CAAd;AACA,aAAKG,OAAL,GAAe,IAAID,OAAJ,EAAf;AACA,aAAKC,OAAL,CAAaC,YAAb,CAA0B,UAASC,QAAT,EAAkBC,QAAlB,EAA2B;AACjD,gBAAIC,WAAWV,GAAGW,OAAH,CAAWC,OAAX,CAAmBH,QAAnB,CAAf;AACAC,qBAASG,mBAAT,CAA6B,YAAU;AACnC,qBAAKP,OAAL,CAAaQ,IAAb,CAAkBN,QAAlB,EAA2BE,QAA3B;AACH,aAF4B,CAE3BK,IAF2B,CAEtB,IAFsB,CAA7B;AAGAL,qBAASM,MAAT,GAAkB,IAAlB;AACA,mBAAON,QAAP;AACH,SAPyB,CAOxBK,IAPwB,CAOnB,IAPmB,CAA1B;AAQA,aAAKT,OAAL,CAAaW,YAAb,CAA0B,UAAST,QAAT,EAAkBE,QAAlB,EAA2B;AACjDA,qBAASQ,MAAT,GAAkB,KAAlB;AACH,SAFyB,CAExBH,IAFwB,CAEnB,IAFmB,CAA1B;AAGH,KAhBI;AAiBLI,gBAjBK,0BAiBS;AACV,aAAKC,MAAL;AACH,KAnBI;AAoBLC,kBApBK,0BAoBUC,QApBV,EAoBmB;AACpB,YAAG,CAAC,KAAKF,MAAL,CAAYE,QAAZ,CAAJ,EAA0B;AACtB,mBAAO,KAAP;AACH;;AAED,aAAKhB,OAAL,CAAaiB,QAAb;AACA,aAAI,IAAIC,GAAR,IAAe,KAAKC,QAAL,CAAcC,WAA7B,EAAyC;AACrC,gBAAIjB,WAAW,KAAKgB,QAAL,CAAcC,WAAd,CAA0BF,GAA1B,CAAf;AACA,gBAAId,WAAW,KAAKJ,OAAL,CAAaqB,GAAb,CAAiBlB,SAASmB,IAA1B,EAA+BnB,QAA/B,CAAf;AACAC,qBAASQ,MAAT,GAAkB,IAAlB;AACAR,qBAASmB,UAAT,CAAoBpB,QAApB;AACH;AACD,eAAO,IAAP;AACH,KAjCI;AAkCLqB,cAlCK,sBAkCMC,GAlCN,EAkCUC,OAlCV,EAkCkB;AACnB,aAAKZ,MAAL;AACA,aAAKa,MAAL,GAAc,MAAd;AACA,aAAKC,KAAL,GAAaH,GAAb;AACA,aAAKC,OAAL,GAAeA,OAAf;AACA,aAAKG,UAAL,GAAkB,aAAWH,OAA7B;AACA,aAAKI,aAAL,GAAqB,KAAKD,UAAL,CAAgBE,KAAhB,CAAsB,GAAtB,CAArB;AACA,aAAKhB,cAAL;AACH,KA1CI;AA2CLiB,gBA3CK,0BA2CS;AACV,aAAKlB,MAAL;AACH,KA7CI;AA8CLmB,aA9CK,qBA8CKC,OA9CL,EA8Ca;AACd,gBAAOA,OAAP;AACI,iBAAKxC,GAAGyC,GAAH,CAAOC,MAAZ;AACI1C,mBAAG2C,QAAH,CAAYC,UAAZ,CAAuB,KAAKV,KAA5B,EAAkC,KAAKF,OAAvC;AACA;AAHR;AAKH;AApDI,CAAT","file":"EntityBorn.js","sourceRoot":"../../../../../../assets/scripts/node/entity","sourcesContent":["cc.Class({\n    extends:require(\"EntityBase\"),\n    ctor(){\n        var PoolMgr = require(\"PoolMgr\");\n        this.poolMgr = new PoolMgr;\n        this.poolMgr.setBuildFunc(function(skinType,skinInfo){\n            var skinNode = cc.skinMgr.getSkin(skinInfo);\n            skinNode.setCompleteCallback(function(){\n                this.poolMgr.push(skinType,skinNode);\n            }.bind(this));\n            skinNode.parent = this;\n            return skinNode;\n        }.bind(this));\n        this.poolMgr.setResetFunc(function(skinType,skinNode){\n            skinNode.active = false;\n        }.bind(this));\n    },\n    initGameData(){\n        this._super();\n    },\n    updateProperty(property){\n        if(!this._super(property)){\n            return false;\n        }\n\n        this.poolMgr.resetAll();\n        for(var key in this.rowValue.bornSkinArr){\n            var skinInfo = this.rowValue.bornSkinArr[key];\n            var skinNode = this.poolMgr.get(skinInfo.name,skinInfo);\n            skinNode.active = true;\n            skinNode.updateInfo(skinInfo);\n        }\n        return true;\n    },\n    initEntity(idx,bornIdx){\n        this._super();\n        this.myType = \"pass\";\n        this.myIdx = idx;\n        this.bornIdx = bornIdx;\n        this.myProperty = \"bornArr@\"+bornIdx;\n        this.myPropertyArr = this.myProperty.split(\"@\");\n        this.updateProperty();\n    },\n    unInitEntity(){\n        this._super();\n    },\n    keyHandle(keyCode){\n        switch(keyCode) {\n            case cc.KEY.Delete:\n                cc.editData.deleteBorn(this.myIdx,this.bornIdx);\n                break;\n        }\n    },\n})"]}