{"version":3,"sources":["../../../../../assets/scripts/component/assets/scripts/component/Editor.js"],"names":["cc","Class","extends","Component","properties","passLabel","default","undefined","type","Label","floorSize","EditBox","layerNode","Node","onDestroy","manager","director","getCollisionManager","enabled","enabledDebugDraw","enabledDrawBoundingBox","layerMgr","unInitLayerMgr","onLoad","gameConfig","enabledDebugDraw_edit","enabledDrawBoundingBox_edit","LayerMgr","require","initLayerMgr","update","dt","logicUpdate","changeFloorSize","editData","editFloorSize","parseInt","string","eidtPass","curPassIdx","passData","getCurPassIdx","toGame","changePass","utils","loadScene","toSelect","showLayer","event","layerName"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAAQF,GAAGG,SADN;AAELC,gBAAW;AACPC,mBAAU;AACNC,qBAAQC,SADF;AAENC,kBAAKR,GAAGS;AAFF,SADH;AAKPC,mBAAU;AACNJ,qBAAQC,SADF;AAENC,kBAAKR,GAAGW;AAFF,SALH;AASPC,mBAAU;AACNN,qBAAQC,SADF;AAENC,kBAAKR,GAAGa;AAFF;AATH,KAFN;AAgBLC,aAhBK,uBAgBM;AACP,YAAIC,UAAUf,GAAGgB,QAAH,CAAYC,mBAAZ,EAAd;AACAF,gBAAQG,OAAR,GAAkB,IAAlB;AACAH,gBAAQI,gBAAR,GAA2B,KAA3B;AACAJ,gBAAQK,sBAAR,GAAiC,KAAjC;AACA,aAAKC,QAAL,CAAcC,cAAd;AACH,KAtBI;AAuBLC,UAvBK,oBAuBG;AACJ,YAAIR,UAAUf,GAAGgB,QAAH,CAAYC,mBAAZ,EAAd;AACAF,gBAAQG,OAAR,GAAkB,IAAlB;AACAH,gBAAQI,gBAAR,GAA2BnB,GAAGwB,UAAH,CAAcC,qBAAzC;AACAV,gBAAQK,sBAAR,GAAiCpB,GAAGwB,UAAH,CAAcE,2BAA/C;;AAEA,YAAIC,WAAWC,QAAQ,gBAAR,CAAf;AACA,aAAKP,QAAL,GAAgB,IAAIM,QAAJ,EAAhB;AACA,aAAKN,QAAL,CAAcQ,YAAd,CAA2B,KAAKjB,SAAhC;AACH,KAhCI;AAiCLkB,UAjCK,kBAiCEC,EAjCF,EAiCK;AACN,aAAKV,QAAL,CAAcW,WAAd,CAA0BD,EAA1B;AACH,KAnCI;AAoCLE,mBApCK,6BAoCY;AACbjC,WAAGkC,QAAH,CAAYC,aAAZ,CAA0BC,SAAS,KAAK1B,SAAL,CAAe2B,MAAxB,CAA1B;AACH,KAtCI;AAuCLC,YAvCK,sBAuCK;AACN,YAAIC,aAAavC,GAAGwC,QAAH,CAAYC,aAAZ,EAAjB;AACA,aAAKpC,SAAL,CAAegC,MAAf,GAAwB,UAAQE,UAAhC;AACH,KA1CI;AA2CLG,UA3CK,oBA2CG;AACJ,YAAIH,aAAavC,GAAGwC,QAAH,CAAYC,aAAZ,EAAjB;AACAzC,WAAGwC,QAAH,CAAYG,UAAZ,CAAuBJ,UAAvB;AACAvC,WAAG4C,KAAH,CAASC,SAAT,CAAmB,MAAnB;AACH,KA/CI;AAgDLC,YAhDK,sBAgDK;AACN9C,WAAG4C,KAAH,CAASC,SAAT,CAAmB,QAAnB;AACH,KAlDI;AAmDLE,aAnDK,qBAmDKC,KAnDL,EAmDWC,SAnDX,EAmDqB;AACtB,aAAK5B,QAAL,CAAc0B,SAAd,CAAwBE,SAAxB;AACH;AArDI,CAAT","file":"Editor.js","sourceRoot":"../../../../../assets/scripts/component","sourcesContent":["cc.Class({\n    extends:cc.Component,\n    properties:{\n        passLabel:{\n            default:undefined,\n            type:cc.Label,\n        },\n        floorSize:{\n            default:undefined,\n            type:cc.EditBox,\n        },\n        layerNode:{\n            default:undefined,\n            type:cc.Node,\n        }\n    },\n    onDestroy(){\n        var manager = cc.director.getCollisionManager();\n        manager.enabled = true;\n        manager.enabledDebugDraw = false;\n        manager.enabledDrawBoundingBox = false;\n        this.layerMgr.unInitLayerMgr();\n    },\n    onLoad(){\n        var manager = cc.director.getCollisionManager();\n        manager.enabled = true;\n        manager.enabledDebugDraw = cc.gameConfig.enabledDebugDraw_edit;\n        manager.enabledDrawBoundingBox = cc.gameConfig.enabledDrawBoundingBox_edit;\n\n        var LayerMgr = require(\"EditorLayerMgr\");\n        this.layerMgr = new LayerMgr();\n        this.layerMgr.initLayerMgr(this.layerNode);\n    },\n    update(dt){\n        this.layerMgr.logicUpdate(dt);\n    },\n    changeFloorSize(){\n        cc.editData.editFloorSize(parseInt(this.floorSize.string));\n    },\n    eidtPass(){\n        var curPassIdx = cc.passData.getCurPassIdx();\n        this.passLabel.string = \"pass:\"+curPassIdx;\n    },\n    toGame(){\n        var curPassIdx = cc.passData.getCurPassIdx();\n        cc.passData.changePass(curPassIdx);\n        cc.utils.loadScene(\"game\");\n    },\n    toSelect(){\n        cc.utils.loadScene(\"select\");\n    },\n    showLayer(event,layerName){\n        this.layerMgr.showLayer(layerName);\n    }\n})"]}