{"version":3,"sources":["../../../../../../../assets/scripts/node/entity/bullet/assets/scripts/node/entity/bullet/BulletPistol.js"],"names":["cc","Class","extends","require","ctor","curPassIdx","passData","getCurPassIdx","initGameData","_super","gameData","launchAng","undefined","initEntity","idx","updateProperty","unInitEntity","property","logicUpdate","dt","deltaDis","propValue","speed","deltaX","Math","cos","deltaY","sin","x","y","configData","isOutMap","entityMgr","clearEntity","_onCollisionEnter","other","self","monsterNode","node","onHitBullet","harm"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAAQC,QAAQ,YAAR,CADH;AAELC,QAFK,kBAEC;AACF,aAAKC,UAAL,GAAkBL,GAAGM,QAAH,CAAYC,aAAZ,EAAlB;AACH,KAJI;AAKLC,gBALK,0BAKS;AACV,aAAKC,MAAL;AACA,aAAKC,QAAL,CAAcC,SAAd,GAA0BC,SAA1B;AACH,KARI;AASLC,cATK,sBASMC,GATN,EASUH,SATV,EASoB;AACrB,aAAKF,MAAL,CAAYK,GAAZ;AACA,aAAKJ,QAAL,CAAcC,SAAd,GAA0BA,SAA1B;AACA,aAAKI,cAAL;AACH,KAbI;AAcLC,gBAdK,0BAcS;AACV,aAAKP,MAAL;AACH,KAhBI;AAiBLM,kBAjBK,0BAiBUE,QAjBV,EAiBmB;AACpB,YAAG,CAAC,KAAKR,MAAL,CAAYQ,QAAZ,CAAJ,EAA0B;AACtB,mBAAO,KAAP;AACH;AACD,eAAO,IAAP;AACH,KAtBI;AAuBLC,eAvBK,uBAuBOC,EAvBP,EAuBU;AACX,YAAIC,WAAW,KAAKC,SAAL,CAAeC,KAAf,GAAqBH,EAApC;AACA,YAAII,SAASH,WAASI,KAAKC,GAAL,CAAS,KAAKf,QAAL,CAAcC,SAAvB,CAAtB;AACA,YAAIe,SAASN,WAASI,KAAKG,GAAL,CAAS,KAAKjB,QAAL,CAAcC,SAAvB,CAAtB;AACA,aAAKiB,CAAL,IAAQL,MAAR;AACA,aAAKM,CAAL,IAAQH,MAAR;;AAEA,YAAG1B,GAAG8B,UAAH,CAAcC,QAAd,CAAuB,KAAK1B,UAA5B,EAAuC,IAAvC,CAAH,EAAgD;AAC5CL,eAAGgC,SAAH,CAAaC,WAAb,CAAyB,IAAzB;AACH;AACJ,KAjCI;AAkCLC,qBAlCK,6BAkCaC,KAlCb,EAkCmBC,IAlCnB,EAkCwB;AACzB,YAAIC,cAAcF,MAAMG,IAAxB;AACAD,oBAAYE,WAAZ,CAAwB,IAAxB;AACAF,oBAAYG,IAAZ,CAAiB,KAAKnB,SAAL,CAAemB,IAAhC;AACAxC,WAAGgC,SAAH,CAAaC,WAAb,CAAyB,IAAzB;AACH;AAvCI,CAAT","file":"BulletPistol.js","sourceRoot":"../../../../../../../assets/scripts/node/entity/bullet","sourcesContent":["cc.Class({\n    extends:require(\"BulletBase\"),\n    ctor(){\n        this.curPassIdx = cc.passData.getCurPassIdx();\n    },  \n    initGameData(){\n        this._super();\n        this.gameData.launchAng = undefined;\n    },\n    initEntity(idx,launchAng){\n        this._super(idx);\n        this.gameData.launchAng = launchAng;\n        this.updateProperty();\n    },\n    unInitEntity(){\n        this._super();\n    },\n    updateProperty(property){\n        if(!this._super(property)){\n            return false;\n        }\n        return true;\n    },\n    logicUpdate(dt){\n        var deltaDis = this.propValue.speed*dt;\n        var deltaX = deltaDis*Math.cos(this.gameData.launchAng);\n        var deltaY = deltaDis*Math.sin(this.gameData.launchAng);\n        this.x+=deltaX;\n        this.y+=deltaY;\n\n        if(cc.configData.isOutMap(this.curPassIdx,this)){\n            cc.entityMgr.clearEntity(this);\n        }\n    },\n    _onCollisionEnter(other,self){\n        var monsterNode = other.node;\n        monsterNode.onHitBullet(this);\n        monsterNode.harm(this.propValue.harm);\n        cc.entityMgr.clearEntity(this);\n    },\n})"]}