{"version":3,"sources":["../../../../../../../assets/scripts/node/entity/bullet/assets/scripts/node/entity/bullet/BulletBase.js"],"names":["cc","Class","extends","require","ctor","group","baseNode","Node","parent","PoolMgr","poolMgr","setBuildFunc","type","skinInfo","skinNode","skinMgr","getSkin","bind","setResetFunc","active","initEntity","idx","_super","myType","myIdx","myProperty","myPropertyArr","updateProperty","unInitEntity","property","resetAll","key","propValue","skinArr","get","name","updateInfo"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAAQC,QAAQ,YAAR,CADH;AAELC,QAFK,kBAEC;AACF,aAAKC,KAAL,GAAa,QAAb;AACA,aAAKC,QAAL,GAAgB,IAAIN,GAAGO,IAAP,EAAhB;AACA,aAAKD,QAAL,CAAcE,MAAd,GAAuB,IAAvB;;AAEA,YAAIC,UAAUN,QAAQ,SAAR,CAAd;AACA,aAAKO,OAAL,GAAe,IAAID,OAAJ,EAAf;AACA,aAAKC,OAAL,CAAaC,YAAb,CAA0B,UAASC,IAAT,EAAcC,QAAd,EAAuB;AAC7C,gBAAIC,WAAWd,GAAGe,OAAH,CAAWC,OAAX,CAAmBH,QAAnB,CAAf;AACAC,qBAASN,MAAT,GAAkB,KAAKF,QAAvB;AACA,mBAAOQ,QAAP;AACH,SAJyB,CAIxBG,IAJwB,CAInB,IAJmB,CAA1B;AAKA,aAAKP,OAAL,CAAaQ,YAAb,CAA0B,UAASN,IAAT,EAAcE,QAAd,EAAuB;AAC7CA,qBAASK,MAAT,GAAkB,KAAlB;AACH,SAFyB,CAExBF,IAFwB,CAEnB,IAFmB,CAA1B;AAGH,KAjBI;AAkBLG,cAlBK,sBAkBMC,GAlBN,EAkBU;AACX,aAAKC,MAAL;AACA,aAAKC,MAAL,GAAc,OAAd;AACA,aAAKC,KAAL,GAAaH,GAAb;AACA,aAAKI,UAAL,GAAkB,QAAlB;AACA,aAAKC,aAAL,GAAqB,CAAC,QAAD,CAArB;AACA,aAAKC,cAAL;AACH,KAzBI;AA0BLC,gBA1BK,0BA0BS;AACV,aAAKN,MAAL;AACH,KA5BI;AA6BLK,kBA7BK,0BA6BUE,QA7BV,EA6BmB;AACpB,YAAG,CAAC,KAAKP,MAAL,CAAYO,QAAZ,CAAJ,EAA0B;AACtB,mBAAO,KAAP;AACH;AACD,aAAKnB,OAAL,CAAaoB,QAAb;AACA,aAAI,IAAIC,GAAR,IAAe,KAAKC,SAAL,CAAeC,OAA9B,EAAsC;AAClC,gBAAIpB,WAAW,KAAKmB,SAAL,CAAeC,OAAf,CAAuBF,GAAvB,CAAf;AACA,gBAAIjB,WAAW,KAAKJ,OAAL,CAAawB,GAAb,CAAiBrB,SAASsB,IAA1B,EAA+BtB,QAA/B,CAAf;AACAC,qBAASK,MAAT,GAAkB,IAAlB;AACAL,qBAASsB,UAAT,CAAoBvB,QAApB;AACH;AACD,eAAO,IAAP;AACH;AAzCI,CAAT","file":"BulletBase.js","sourceRoot":"../../../../../../../assets/scripts/node/entity/bullet","sourcesContent":["cc.Class({\n    extends:require(\"EntityBase\"),\n    ctor(){\n        this.group = \"bullet\";\n        this.baseNode = new cc.Node();\n        this.baseNode.parent = this;\n\n        var PoolMgr = require(\"PoolMgr\");\n        this.poolMgr = new PoolMgr;\n        this.poolMgr.setBuildFunc(function(type,skinInfo){\n            var skinNode = cc.skinMgr.getSkin(skinInfo);\n            skinNode.parent = this.baseNode;\n            return skinNode;\n        }.bind(this));\n        this.poolMgr.setResetFunc(function(type,skinNode){\n            skinNode.active = false;\n        }.bind(this));\n    },\n    initEntity(idx){\n        this._super();\n        this.myType = \"tower\";\n        this.myIdx = idx;\n        this.myProperty = \"bullet\";\n        this.myPropertyArr = [\"bullet\"];\n        this.updateProperty();\n    },\n    unInitEntity(){\n        this._super();\n    },\n    updateProperty(property){\n        if(!this._super(property)){\n            return false;\n        }\n        this.poolMgr.resetAll();\n        for(var key in this.propValue.skinArr){\n            var skinInfo = this.propValue.skinArr[key];\n            var skinNode = this.poolMgr.get(skinInfo.name,skinInfo);\n            skinNode.active = true;\n            skinNode.updateInfo(skinInfo);\n        }\n        return true;\n    },\n})"]}