{"version":3,"sources":["../../../../../assets/scripts/component/assets/scripts/component/GameLayerMgr.js"],"names":["cc","Class","extends","require","ctor","unInitLayerMgr","globalEvent","off","initGameData","entityMgr","unInitEntityMgr","skinMgr","unInitSkinMgr","monsterMgr","unInitMonsterMgr","initLayerMgr","node","_super","on","configData","initAllTower_Level1_Info","curPassData","passData","getCurPassData","MonsterMgr","initMonsterMgr","initEntityMgr","layerMap","initSkinMgr","updateFloor","updateBorn","updateTarget","updateRoad","logicUpdate","dt","_updateFloor","_updateBorn","_updateTarget","_updateRoad"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAAQC,QAAQ,UAAR,CADH;AAELC,QAFK,kBAEC,CAEL,CAJI;AAKLC,kBALK,4BAKW;AACZL,WAAGM,WAAH,CAAeC,GAAf,CAAmB,sBAAnB,EAA0C,KAAKC,YAA/C,EAA4D,IAA5D;AACA,aAAKC,SAAL,CAAeC,eAAf;AACA,aAAKC,OAAL,CAAaC,aAAb;AACA,aAAKC,UAAL,CAAgBC,gBAAhB;AACH,KAVI;AAWLC,gBAXK,wBAWQC,IAXR,EAWa;AACd,aAAKC,MAAL,CAAYD,IAAZ;;AAEAhB,WAAGM,WAAH,CAAeY,EAAf,CAAkB,sBAAlB,EAAyC,KAAKV,YAA9C,EAA2D,IAA3D;AACAR,WAAGmB,UAAH,CAAcC,wBAAd;;AAEA,aAAKC,WAAL,GAAmBrB,GAAGsB,QAAH,CAAYC,cAAZ,EAAnB;AACA,aAAKd,SAAL,GAAiBT,GAAGS,SAApB;AACA,aAAKE,OAAL,GAAeX,GAAGW,OAAlB;;AAEA,YAAIa,aAAarB,QAAQ,YAAR,CAAjB;AACA,aAAKU,UAAL,GAAkB,IAAIW,UAAJ,EAAlB;;AAEA,aAAKhB,YAAL;AACH,KAzBI;AA0BLA,gBA1BK,0BA0BS;AACV,aAAKC,SAAL,CAAeC,eAAf;AACA,aAAKC,OAAL,CAAaC,aAAb;AACA,aAAKC,UAAL,CAAgBC,gBAAhB;;AAEA,aAAKD,UAAL,CAAgBY,cAAhB;AACA,aAAKhB,SAAL,CAAeiB,aAAf,CAA6B,KAAKC,QAAlC;AACA,aAAKhB,OAAL,CAAaiB,WAAb,CAAyB,KAAKD,QAA9B;;AAEA,aAAKE,WAAL;AACA,aAAKC,UAAL;AACA,aAAKC,YAAL;AACA,aAAKC,UAAL;AACH,KAvCI;AAwCLC,eAxCK,uBAwCOC,EAxCP,EAwCU;AACX,aAAKzB,SAAL,CAAewB,WAAf,CAA2BC,EAA3B;AACA,aAAKrB,UAAL,CAAgBoB,WAAhB,CAA4BC,EAA5B;AACA,aAAKC,YAAL;AACA,aAAKC,WAAL;AACA,aAAKC,aAAL;AACA,aAAKC,WAAL;AACH;AA/CI,CAAT","file":"GameLayerMgr.js","sourceRoot":"../../../../../assets/scripts/component","sourcesContent":["cc.Class({\n    extends:require(\"LayerMgr\"),\n    ctor(){\n        \n    },\n    unInitLayerMgr(){\n        cc.globalEvent.off(\"CurData:initGameData\",this.initGameData,this);\n        this.entityMgr.unInitEntityMgr();\n        this.skinMgr.unInitSkinMgr();\n        this.monsterMgr.unInitMonsterMgr();\n    },\n    initLayerMgr(node){\n        this._super(node);\n\n        cc.globalEvent.on(\"CurData:initGameData\",this.initGameData,this);\n        cc.configData.initAllTower_Level1_Info();\n\n        this.curPassData = cc.passData.getCurPassData();\n        this.entityMgr = cc.entityMgr;\n        this.skinMgr = cc.skinMgr;\n\n        var MonsterMgr = require(\"MonsterMgr\");\n        this.monsterMgr = new MonsterMgr();\n\n        this.initGameData();\n    },\n    initGameData(){\n        this.entityMgr.unInitEntityMgr();\n        this.skinMgr.unInitSkinMgr();\n        this.monsterMgr.unInitMonsterMgr();\n\n        this.monsterMgr.initMonsterMgr();\n        this.entityMgr.initEntityMgr(this.layerMap);\n        this.skinMgr.initSkinMgr(this.layerMap);\n\n        this.updateFloor();\n        this.updateBorn();\n        this.updateTarget();\n        this.updateRoad();\n    },\n    logicUpdate(dt){\n        this.entityMgr.logicUpdate(dt);\n        this.monsterMgr.logicUpdate(dt);\n        this._updateFloor();\n        this._updateBorn();\n        this._updateTarget();\n        this._updateRoad();\n    },\n})"]}