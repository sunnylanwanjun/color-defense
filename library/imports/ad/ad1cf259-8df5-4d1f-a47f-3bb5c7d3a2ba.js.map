{"version":3,"sources":["../../../../../assets/scripts/component/assets/scripts/component/LayerRoot.js"],"names":["cc","Class","extends","Component","properties","nodePos","default","undefined","type","Label","onLoad","onDestroy","globalEvent","off","updateNodeSize","start","on","nodeX","parseInt","node","x","nodeY","y","string","backNodePos","curPassIdx","passData","getCurPassIdx","passRow","configData","getPassRow","posx","posy","update","setContentSize","mapW","mapH","scale"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAAQF,GAAGG,SADN;AAELC,gBAAW;AACPC,iBAAQ;AACJC,qBAAQC,SADJ;AAEJC,kBAAKR,GAAGS;AAFJ;AADD,KAFN;AAQLC,UARK,oBAQG,CAEP,CAVI;AAWLC,aAXK,uBAWM;AACPX,WAAGY,WAAH,CAAeC,GAAf,CAAmB,qBAAnB,EAAyC,KAAKC,cAA9C,EAA6D,IAA7D;AACH,KAbI;AAcLC,SAdK,mBAcE;AACHf,WAAGY,WAAH,CAAeI,EAAf,CAAkB,qBAAlB,EAAwC,KAAKF,cAA7C,EAA4D,IAA5D;AACA,aAAKG,KAAL,GAAaC,SAAS,KAAKC,IAAL,CAAUC,CAAnB,CAAb;AACA,aAAKC,KAAL,GAAaH,SAAS,KAAKC,IAAL,CAAUG,CAAnB,CAAb;AACA,aAAKjB,OAAL,CAAakB,MAAb,GAAsB,SAAtB;AACA,aAAKT,cAAL;AACH,KApBI;AAqBLU,eArBK,yBAqBQ;AACT,YAAIC,aAAazB,GAAG0B,QAAH,CAAYC,aAAZ,EAAjB;AACA,YAAIC,UAAU5B,GAAG6B,UAAH,CAAcC,UAAd,CAAyBL,UAAzB,CAAd;AACA,aAAKN,IAAL,CAAUC,CAAV,GAAcQ,QAAQG,IAAtB;AACA,aAAKZ,IAAL,CAAUG,CAAV,GAAcM,QAAQI,IAAtB;AACH,KA1BI;AA2BLC,UA3BK,oBA2BG;AACJ,YAAIhB,QAAQC,SAAS,KAAKC,IAAL,CAAUC,CAAnB,CAAZ;AACA,YAAIC,QAAQH,SAAS,KAAKC,IAAL,CAAUG,CAAnB,CAAZ;AACA,YAAG,KAAKL,KAAL,IAAYA,KAAZ,IAAmB,KAAKI,KAAL,IAAYA,KAAlC,EAAwC;AACpC,iBAAKhB,OAAL,CAAakB,MAAb,GAAsB,OAAKN,KAAL,GAAW,KAAX,GAAiBI,KAAvC;AACA,iBAAKJ,KAAL,GAAaA,KAAb;AACA,iBAAKI,KAAL,GAAaA,KAAb;AACH;AACJ,KAnCI;AAoCLP,kBApCK,4BAoCW;AACZ,YAAIW,aAAazB,GAAG0B,QAAH,CAAYC,aAAZ,EAAjB;AACA,YAAIC,UAAU5B,GAAG6B,UAAH,CAAcC,UAAd,CAAyBL,UAAzB,CAAd;AACA,aAAKN,IAAL,CAAUe,cAAV,CAAyBN,QAAQO,IAAjC,EAAsCP,QAAQQ,IAA9C;AACA,aAAKjB,IAAL,CAAUkB,KAAV,GAAkBT,QAAQS,KAA1B;AACH;AAzCI,CAAT","file":"LayerRoot.js","sourceRoot":"../../../../../assets/scripts/component","sourcesContent":["cc.Class({\n    extends:cc.Component,\n    properties:{\n        nodePos:{\n            default:undefined,\n            type:cc.Label,\n        },\n    },\n    onLoad(){\n          \n    },\n    onDestroy(){\n        cc.globalEvent.off(\"EditData:updateList\",this.updateNodeSize,this);\n    },\n    start(){\n        cc.globalEvent.on(\"EditData:updateList\",this.updateNodeSize,this);\n        this.nodeX = parseInt(this.node.x);\n        this.nodeY = parseInt(this.node.y);\n        this.nodePos.string = \"x:0 y:0\";\n        this.updateNodeSize();\n    },\n    backNodePos(){\n        var curPassIdx = cc.passData.getCurPassIdx();\n        var passRow = cc.configData.getPassRow(curPassIdx);\n        this.node.x = passRow.posx;\n        this.node.y = passRow.posy;\n    },\n    update(){\n        var nodeX = parseInt(this.node.x);\n        var nodeY = parseInt(this.node.y);\n        if(this.nodeX!=nodeX||this.nodeY!=nodeY){\n            this.nodePos.string = \"x:\"+nodeX+\" y:\"+nodeY;\n            this.nodeX = nodeX;\n            this.nodeY = nodeY;\n        }\n    },\n    updateNodeSize(){\n        var curPassIdx = cc.passData.getCurPassIdx();\n        var passRow = cc.configData.getPassRow(curPassIdx);\n        this.node.setContentSize(passRow.mapW,passRow.mapH);\n        this.node.scale = passRow.scale;\n    },\n})"]}