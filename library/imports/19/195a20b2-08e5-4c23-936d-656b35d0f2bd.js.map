{"version":3,"sources":["../../../../../../assets/scripts/node/entity/assets/scripts/node/entity/EntityPoint.js"],"names":["cc","Class","extends","require","ctor","curPassData","passData","getCurPassData","sp","addComponent","Sprite","spriteFrame","gameui","getSpriteFrame","labelNode","Node","addChild","label","Label","initGameData","_super","initEntity","idx","roadIdx","pointIdx","myType","myIdx","myProperty","myPropertyArr","split","updateProperty","unInitEntity","property","indexOf","editData","modifyPoint","string","keyHandle","keyCode","KEY","Delete","deletePoint"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAAQC,QAAQ,YAAR,CADH;AAELC,QAFK,kBAEC;AACF,aAAKC,WAAL,GAAmBL,GAAGM,QAAH,CAAYC,cAAZ,EAAnB;AACA,YAAIC,KAAK,KAAKC,YAAL,CAAkBT,GAAGU,MAArB,CAAT;AACAF,WAAGG,WAAH,GAAiB,KAAKC,MAAL,CAAYC,cAAZ,CAA2B,WAA3B,CAAjB;AACA,YAAIC,YAAY,IAAId,GAAGe,IAAP,EAAhB;AACA,aAAKC,QAAL,CAAcF,SAAd;AACA,aAAKG,KAAL,GAAaH,UAAUL,YAAV,CAAuBT,GAAGkB,KAA1B,CAAb;AACH,KATI;AAULC,gBAVK,0BAUS;AACV,aAAKC,MAAL;AACH,KAZI;AAaLC,cAbK,sBAaMC,GAbN,EAaUC,OAbV,EAakBC,QAblB,EAa2B;AAC5B,aAAKJ,MAAL;AACA,aAAKK,MAAL,GAAc,MAAd;AACA,aAAKC,KAAL,GAAaJ,GAAb;;AAEA,aAAKC,OAAL,GAAeA,OAAf;AACA,aAAKC,QAAL,GAAgBA,QAAhB;;AAEA,aAAKG,UAAL,GAAkB,aAAWJ,OAAX,GAAmB,GAAnB,GAAuBC,QAAzC;AACA,aAAKI,aAAL,GAAqB,KAAKD,UAAL,CAAgBE,KAAhB,CAAsB,GAAtB,CAArB;AACA,aAAKC,cAAL;AACH,KAxBI;AAyBLC,gBAzBK,0BAyBS;AACV,aAAKX,MAAL;AACH,KA3BI;AA4BLU,kBA5BK,0BA4BUE,QA5BV,EA4BmB;AACpB,aAAKZ,MAAL,CAAYY,QAAZ;AACA,YAAGA,aAAWA,SAASC,OAAT,CAAiB,IAAjB,KAAwB,CAAC,CAAzB,IAA4BD,SAASC,OAAT,CAAiB,IAAjB,KAAwB,CAAC,CAAhE,CAAH,EAAsE;AAClEjC,eAAGkC,QAAH,CAAYC,WAAZ,CAAwB,KAAKT,KAA7B,EAAmC,KAAKH,OAAxC,EAAgD,KAAKC,QAArD;AACH,SAFD,MAEK;AACD,iBAAKP,KAAL,CAAWmB,MAAX,GAAoB,KAAKb,OAAL,GAAa,GAAb,GAAiB,KAAKC,QAA1C;AACH;AACJ,KAnCI;AAoCLa,aApCK,qBAoCKC,OApCL,EAoCa;AACd,gBAAOA,OAAP;AACI,iBAAKtC,GAAGuC,GAAH,CAAOC,MAAZ;AACIxC,mBAAGkC,QAAH,CAAYO,WAAZ,CAAwB,KAAKf,KAA7B,EAAmC,KAAKH,OAAxC,EAAgD,KAAKC,QAArD;AACA;AAHR;AAKH;AA1CI,CAAT","file":"EntityPoint.js","sourceRoot":"../../../../../../assets/scripts/node/entity","sourcesContent":["cc.Class({\n    extends:require(\"EntityBase\"),\n    ctor(){\n        this.curPassData = cc.passData.getCurPassData();\n        var sp = this.addComponent(cc.Sprite);\n        sp.spriteFrame = this.gameui.getSpriteFrame(\"ui-circle\");\n        var labelNode = new cc.Node();\n        this.addChild(labelNode);\n        this.label = labelNode.addComponent(cc.Label);\n    },\n    initGameData(){\n        this._super();\n    },\n    initEntity(idx,roadIdx,pointIdx){\n        this._super();\n        this.myType = \"pass\";\n        this.myIdx = idx;\n\n        this.roadIdx = roadIdx;\n        this.pointIdx = pointIdx;\n\n        this.myProperty = \"roadMap@\"+roadIdx+\"@\"+pointIdx;\n        this.myPropertyArr = this.myProperty.split(\"@\");\n        this.updateProperty();\n    },\n    unInitEntity(){\n        this._super();\n    },\n    updateProperty(property){\n        this._super(property);\n        if(property&&(property.indexOf(\"@x\")!=-1||property.indexOf(\"@y\")!=-1)){\n            cc.editData.modifyPoint(this.myIdx,this.roadIdx,this.pointIdx);\n        }else{\n            this.label.string = this.roadIdx+\"|\"+this.pointIdx;\n        }\n    },\n    keyHandle(keyCode){\n        switch(keyCode) {\n            case cc.KEY.Delete:\n                cc.editData.deletePoint(this.myIdx,this.roadIdx,this.pointIdx);\n                break;\n        }\n    },\n})"]}